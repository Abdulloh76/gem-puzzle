(()=>{"use strict";function e(e,t,i,n){for(var s,o=[],r=4;r<arguments.length;r++)o[r-4]=arguments[r];var l=null;try{l=document.createElement(e)}catch(e){throw new Error("Unable to create HTMLElement! Give a proper tag name")}return t&&(s=l.classList).add.apply(s,t.split(" ")),i&&Array.isArray(i)?i.forEach((function(e){return e&&l.append(e)})):i&&"object"==typeof i?l.append(i):i&&"string"==typeof i&&(l.innerHTML=i),n&&n.append(l),o.length&&o.forEach((function(e){var t=e[0],i=e[1];""===i&&l.setAttribute(t,""),t.match(/value|id|placeholder|cols|rows|role|aria|src|alt|title|autocorrect|spellcheck/)?l.setAttribute(t,i):l.dataset[t]=i})),l}const t=[0,1,100,110,121,126,13,133,145,16,18,19,22,23,24,26,27,28,30,34,36,39,42,45,46,47,48,49,51,52,53,54,55,56,57,58,60,61,62,63,64,66,67,71,72,75,76,78,79,8,80,81,82,83,84,85,86,87,89,93,97],i=function(){function t(t){var i=this;this.closeModal=function(){i.modalBase.remove()},this.limitIsOut=function(){},this.gameIsSaved=function(){},this.showSavedGames=function(){},this.parent=t,this.modalBase=e("div","modal-base","",t),this.bindEvents()}return t.prototype.bindEvents=function(){e("button","close-modal-btn",'\n      <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n         <path fill-rule="evenodd" clip-rule="evenodd" d="M7.42618 6.00003L11.7046 1.72158C12.0985 1.32775 12.0985 0.689213 11.7046 0.295433C11.3108 -0.0984027 10.6723 -0.0984027 10.2785 0.295433L5.99998 4.57394L1.72148 0.295377C1.32765 -0.098459 0.68917 -0.098459 0.295334 0.295377C-0.0984448 0.689213 -0.0984448 1.32775 0.295334 1.72153L4.57383 5.99997L0.295334 10.2785C-0.0984448 10.6723 -0.0984448 11.3108 0.295334 11.7046C0.68917 12.0985 1.32765 12.0985 1.72148 11.7046L5.99998 7.42612L10.2785 11.7046C10.6723 12.0985 11.3108 12.0985 11.7046 11.7046C12.0985 11.3108 12.0985 10.6723 11.7046 10.2785L7.42618 6.00003Z" fill="#ffffff"/>\n      </svg>',this.modalBase).addEventListener("click",this.closeModal)},t.prototype.finished=function(t,i){e("h1","modal-title","Great!!! You have finished the puzzle",this.modalBase),e("p","win-parameters","And it lasted "+o(Math.floor(t/60))+":"+o(t%60)+" and "+i+" moves",this.modalBase)},t.prototype.generateTable=function(t){var i=e("table","table",null,this.modalBase);e("thead","",e("tr","",'<th scope="col">#</th>\n        <th scope="col">Date</th>\n        <th scope="col">Moves</th>\n        <th scope="col">Time</th>',i),i);for(var n=e("tbody","","",i),s=0;s<10;s+=1){if(void 0===t[s])return;var r=o(Math.floor(t[s].time/60))+":"+o(t[s].time%60);e("tr","",'<th scope="row">'+(s+1)+"</th>\n        <td>"+new Date(""+t[s].date).toLocaleString()+"</td>\n        <td>"+t[s].moves+"</td>\n        <td>"+r+"</td>",n)}},t}();var n,s=e("main","game",null,null),o=function(e){return(e<10?"0":"")+e},r=function(){function n(e){var t=this;this.move=function(e){var n=t.cells.filter((function(t){return t.element===e.target.closest(".cell")}))[0];if(!(Math.abs(t.empty.left-n.left)+Math.abs(t.empty.top-n.top)>1)){t.cancelTimer&&(t.cancelTimer=!1),t.generateMoves(),t.soundOn&&t.audio.play();var s=t.empty.left,o=t.empty.top,r=t.empty.id;if(t.empty.left=n.left,t.empty.top=n.top,t.empty.id=n.id,n.left=s,n.top=o,n.id=r,t.isSolved(t.size)){t.cancelTimer=!0,new i(t.gameBoard).finished(t.timer,t.moves);var l=JSON.parse(localStorage.getItem("records"))||{},a=""+t.size;l[a]||(l[a]=[]),l[a].push({date:new Date,moves:t.moves,time:t.timer}),l[a].sort((function(e,t){return e.moves-t.moves})),localStorage.setItem("records",JSON.stringify(l))}t.generateCell(t.empty),t.generateCell(n)}},this.generateTime=function(){var e=60*(1.4*t.size-1.8),i=t.moveProgress.closest(".progress").clientHeight;t.timer+=1,t.timeTime.textContent="Time "+o(Math.floor(t.timer/60))+":"+o(t.timer%60),t.timeProgress.style.height=i*((e-t.timer)/e)+"px",t.cancelTimer||setTimeout(t.generateTime,1e3)},this.generateMoves=function(){0===t.moves&&t.generateTime();var e=195*t.size-508,i=t.moveProgress.closest(".progress").clientHeight;t.moves+=1,t.moveNumbers.textContent="Moves "+t.moves,t.moveProgress.style.height=i*((e-t.moves)/e)+"px"},this.size=e,this.generateBgImg(),this.cancelTimer=!1,this.generateBaseLayout(),this.soundOn=!0}return n.prototype.generateBaseLayout=function(){this.cellSize=Math.floor((.8*window.innerHeight-30)/this.size),window.innerWidth<=1024&&(this.cellSize=Math.floor((.68*(window.innerWidth-20)-50)/this.size)),window.innerWidth<=414&&(this.cellSize=Math.floor((window.innerWidth-10-30)/this.size)),this.puzzleContainer=e("div","puzzle-container",null,null),s.prepend(this.puzzleContainer),this.gameBoard=e("div","sliding-puzzle",null,this.puzzleContainer),this.audio=e("audio","sound",null,this.puzzleContainer,["src","./src/sounds/shift.mp3"]),this.gameBoard.style.height=this.cellSize*this.size+16/this.size+"px",this.gameBoard.style.width=this.cellSize*this.size+16/this.size+"px",this.cells=[],this.moves=0,this.timer=0,this.moveNumbers=e("p","move-numbers timing-text","Moves 0",null),this.moveProgress=e("div","progress-bar move-progress",null,null),this.timeTime=e("p","timing-text time-time","Time 00:00",null),this.timeProgress=e("div","progress-bar time-progress",null,null)},n.prototype.init=function(){var t=this.randomize(),i=t.indexOf("");this.empty={id:i+1,value:t[i],left:i%this.size,top:(i-i%this.size)/this.size,element:e("div","empty",""+t[i],null)};for(var n=0;n<t.length;n+=1){var o=n%this.size,r=(n-o)/this.size;if(""===t[n])this.cells.push(this.empty),this.gameBoard.append(this.empty.element),this.generateCell(this.empty);else{var l=e("div","cell",""+t[n],this.gameBoard);this.cells.push({id:n+1,value:t[n],left:o,top:r,element:l}),this.generateCell(this.cells[n]),l.addEventListener("click",this.move)}this.cells[n].element.style.height=this.cellSize-16/this.size+"px",this.cells[n].element.style.width=this.cellSize-16/this.size+"px"}this.drawBg(this.bgSrc),this.generateTimingLayout(),document.body.prepend(s)},n.prototype.randomize=function(){for(var e=[""],t=1;t<=Math.pow(this.size,2)-1;t+=1)e.push(t);for(e.sort((function(){return Math.random()-.5}));!this.hasSolution(e);)e.sort((function(){return Math.random()-.5}));return e},n.prototype.hasSolution=function(e){for(var t=0,i=0;i<e.length;i+=1)if(e[i])for(var n=0;n<i;n+=1)e[n]>e[i]&&(t+=1);else t+=1+Math.floor(i/this.size);return!(t%2)},n.prototype.generateCell=function(e){var t=e;t.element.style.left=t.left*this.cellSize+16/this.size+"px",t.element.style.top=t.top*this.cellSize+16/this.size+"px"},n.prototype.generateBgImg=function(){for(var e=Math.round(150*Math.random());t.includes(e);)e=Math.round(150*Math.random());this.bgSrc="https://raw.githubusercontent.com/irinainina/image-data/master/box/"+e+".jpg"},n.prototype.drawBg=function(e){return t=this,i=void 0,s=function(){var t,i,n,s,o,r=this;return function(e,t){var i,n,s,o,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=2&o[0]?n.return:o[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,o[1])).done)return s;switch(n=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,n=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!((s=(s=r.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){r=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){r.label=o[1];break}if(6===o[0]&&r.label<s[1]){r.label=s[1],s=o;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(o);break}s[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],n=0}finally{i=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(l){switch(l.label){case 0:return[4,fetch(e).then((function(e){return e.blob()}))];case 1:return t=l.sent(),[4,new Promise((function(e){var i=new FileReader;i.onload=function(){return e(i.result.toString())},i.readAsDataURL(t)}))];case 2:return i=l.sent(),(n=new Image).src=i,s=document.createElement("canvas"),o=s.getContext("2d"),s.height=900/this.size-16/this.size,s.width=900/this.size-16/this.size,n.onload=function(){r.cells.forEach((function(e){var t=e;if("string"!=typeof t.value){var i=(t.value-1)%r.size,l=(t.value-1-i)/r.size,a=i*(n.height/r.size-16/r.size),c=l*(n.height/r.size-16/r.size),u=n.height/r.size-16/r.size;o.drawImage(n,a,c,u,u,0,0,u,u),t.element.style.backgroundImage="url('"+s.toDataURL()+"')"}}))},[2]}}))},new((n=void 0)||(n=Promise))((function(e,o){function r(e){try{a(s.next(e))}catch(e){o(e)}}function l(e){try{a(s.throw(e))}catch(e){o(e)}}function a(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,l)}a((s=s.apply(t,i||[])).next())}));var t,i,n,s},n.prototype.generateTimingLayout=function(){e("div","timing",[e("div","moves",[e("div","move-icon timing-icon icon-darked",e("img","",null,null,["src","./src/icons/move.svg"],["alt","movement"],["title","moves"]),null),e("div","progress move-timing",[this.moveNumbers,this.moveProgress],null)],null),e("div","time",[e("div","time-icon timing-icon icon-darked",e("img","",null,null,["src","./src/icons/hourglass.svg"],["alt","hourglass"],["title","time"]),null),e("div","progress time-timing",[this.timeTime,this.timeProgress],null)],null)],this.puzzleContainer).style.height=this.gameBoard.style.height},n.prototype.isSolved=function(e){return this.cells.every((function(t){return"number"==typeof t.value?t.value===t.id:t.id===Math.pow(e,2)}))},n}(),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});new(function(t){function n(n){var o=t.call(this,n)||this;return o.changeBgImage=function(){t.prototype.generateBgImg.call(o),t.prototype.drawBg.call(o,o.bgSrc),o.puzzleImg.setAttribute("src",o.bgSrc)},o.soundHandler=function(){o.soundOn=!o.soundOn;var e=o.soundOn?"volume":"mute";document.querySelector(".sound img").setAttribute("src","./src/icons/"+e+".svg")},o.sizeHandler=function(){o.size=o.size>7?3:o.size+1,o.cancelTimer=!0,o.puzzleContainer.remove(),o.generateBaseLayout(),o.moves=0,o.timer=-1,t.prototype.init.call(o)},o.saveCurrentGame=function(){},o.shuffleGame=function(){o.cancelTimer=!0,o.moves=-1,o.timer=-1,o.generateTime(),o.generateMoves();for(var e=o.randomize(),t=function(t){var i=t%o.size,n=(t-i)/o.size,s=o.cells.filter((function(i){return i.value===e[t]}))[0];s.id=t+1,s.left=i,s.top=n,s.value=e[t],o.generateCell(s)},i=0;i<e.length;i+=1)t(i)},o.showSavedGames=function(){},o.showTopScores=function(){var e=JSON.parse(localStorage.getItem("records")),t=""+o.size;new i(o.gameBoard).generateTable(e[t])},o.solveHandler=function(){},t.prototype.init.call(o),o.optionsContainer=e("div","options-container",null,s),o.puzzleImg=e("img","puzzle-image",null,o.optionsContainer,["src",o.bgSrc]),o.options=e("div","options",null,o.optionsContainer),o}return l(n,t),n.prototype.generateOptions=function(){this.changeImg=e("button","option change-image icon-darked",[e("img","",null,null,["src","./src/icons/images.svg"]),e("p","","change image",null)],this.options),this.sound=e("button","option sound icon-darked",[e("img","",null,null,["src","./src/icons/volume.svg"]),e("p","","sound",null)],this.options),this.changeSize=e("button","option change-size icon-darked",[e("img","",null,null,["src","./src/icons/matrix.svg"]),e("p","","change size",null)],this.options),this.saveGame=e("button","option save-game icon-darked",[e("img","",null,null,["src","./src/icons/save-game.svg"]),e("p","","save game",null)],this.options,["title","available in pro version"]),this.shuffle=e("button","option shuffle icon-darked",[e("img","",null,null,["src","./src/icons/shuffle.svg"]),e("p","","new",null)],this.options),this.savedGames=e("button","option saved-games icon-darked",[e("img","",null,null,["src","./src/icons/saved-games.svg"]),e("p","","saved games",null)],this.options,["title","available in pro version"]),this.topScores=e("button","option top-scores icon-darked",[e("img","",null,null,["src","./src/icons/podium.svg"]),e("p","","top scores",null)],this.options),this.solvePuzzle=e("button","option solve-puzzle icon-darked",[e("img","",null,null,["src","./src/icons/solution.svg"]),e("p","","solve puzzle",null)],this.options,["title","available in pro version"]),this.events()},n.prototype.events=function(){this.changeImg.addEventListener("click",this.changeBgImage),this.sound.addEventListener("click",this.soundHandler),this.changeSize.addEventListener("click",this.sizeHandler),this.saveGame.addEventListener("click",this.saveCurrentGame),this.shuffle.addEventListener("click",this.shuffleGame),this.savedGames.addEventListener("click",this.showSavedGames),this.topScores.addEventListener("click",this.showTopScores),this.solvePuzzle.addEventListener("click",this.solveHandler)},n}(r))(4).generateOptions()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL3RzL3V0aWxzL2NyZWF0ZS50cyIsIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL3RzL3V0aWxzL2RvbnRVc2VJbWcudHMiLCJ3ZWJwYWNrOi8vZ2VtLXB1enpsZS8uL3NyYy90cy9JbmZvTW9kYWwudHMiLCJ3ZWJwYWNrOi8vZ2VtLXB1enpsZS8uL3NyYy90cy9HYW1lQm9hcmQudHMiLCJ3ZWJwYWNrOi8vZ2VtLXB1enpsZS8uL3NyYy9zY3JpcHQudHMiLCJ3ZWJwYWNrOi8vZ2VtLXB1enpsZS8uL3NyYy90cy9TbGlkaW5nUHV6emxlLnRzIl0sIm5hbWVzIjpbImNyZWF0ZSIsImVsIiwiY2xhc3NOYW1lcyIsImNoaWxkIiwicGFyZW50IiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImVycm9yIiwiRXJyb3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJzcGxpdCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJjaGlsZEVsZW1lbnQiLCJhcHBlbmQiLCJpbm5lckhUTUwiLCJkYXRhQXR0ciIsImxlbmd0aCIsImF0dHJOYW1lIiwiYXR0clZhbHVlIiwic2V0QXR0cmlidXRlIiwibWF0Y2giLCJkYXRhc2V0IiwiY2xvc2VNb2RhbCIsIm1vZGFsQmFzZSIsInJlbW92ZSIsImxpbWl0SXNPdXQiLCJnYW1lSXNTYXZlZCIsInNob3dTYXZlZEdhbWVzIiwidGhpcyIsImJpbmRFdmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZmluaXNoZWQiLCJ0aW1lIiwibW92ZXMiLCJhZGRaZXJvIiwiTWF0aCIsImZsb29yIiwiZ2VuZXJhdGVUYWJsZSIsInJlY29yZHMiLCJ0YWJsZSIsInRCb2R5IiwiaSIsInVuZGVmaW5lZCIsIkRhdGUiLCJkYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJtYWluIiwibnVtIiwic2l6ZSIsIm1vdmUiLCJlIiwiY2VsbCIsImNlbGxzIiwiZmlsdGVyIiwib2JqIiwidGFyZ2V0IiwiY2xvc2VzdCIsImFicyIsImVtcHR5IiwibGVmdCIsInRvcCIsImNhbmNlbFRpbWVyIiwiZ2VuZXJhdGVNb3ZlcyIsInNvdW5kT24iLCJhdWRpbyIsInBsYXkiLCJlbXB0eUxlZnQiLCJlbXB0eVRvcCIsImVtcHR5SWQiLCJpZCIsImlzU29sdmVkIiwiZ2FtZUJvYXJkIiwidGltZXIiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicHVzaCIsInNvcnQiLCJhIiwiYiIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJnZW5lcmF0ZUNlbGwiLCJnZW5lcmF0ZVRpbWUiLCJsaW1pdCIsIm1heEhlaWdodCIsIm1vdmVQcm9ncmVzcyIsImNsaWVudEhlaWdodCIsInRpbWVUaW1lIiwidGV4dENvbnRlbnQiLCJ0aW1lUHJvZ3Jlc3MiLCJzdHlsZSIsImhlaWdodCIsInNldFRpbWVvdXQiLCJtb3ZlTnVtYmVycyIsImdlbmVyYXRlQmdJbWciLCJnZW5lcmF0ZUJhc2VMYXlvdXQiLCJjZWxsU2l6ZSIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsInB1enpsZUNvbnRhaW5lciIsInByZXBlbmQiLCJ3aWR0aCIsImluaXQiLCJudW1iZXJzIiwicmFuZG9taXplIiwiZW1wdHlJbmRleCIsImluZGV4T2YiLCJ2YWx1ZSIsImRyYXdCZyIsImJnU3JjIiwiZ2VuZXJhdGVUaW1pbmdMYXlvdXQiLCJib2R5IiwicmFuZG9tIiwiaGFzU29sdXRpb24iLCJpbnYiLCJqIiwicm91bmQiLCJzcmMiLCJmZXRjaCIsInRoZW4iLCJyIiwiYmxvYiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlc3VsdCIsInRvU3RyaW5nIiwicmVhZEFzRGF0YVVSTCIsImRhdGFVcmwiLCJpbWciLCJJbWFnZSIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJ4IiwieSIsImltZ1NpemUiLCJkcmF3SW1hZ2UiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJ0b0RhdGFVUkwiLCJldmVyeSIsImNoYW5nZUJnSW1hZ2UiLCJwdXp6bGVJbWciLCJzb3VuZEhhbmRsZXIiLCJxdWVyeVNlbGVjdG9yIiwic2l6ZUhhbmRsZXIiLCJzYXZlQ3VycmVudEdhbWUiLCJzaHVmZmxlR2FtZSIsInNob3dUb3BTY29yZXMiLCJzb2x2ZUhhbmRsZXIiLCJvcHRpb25zQ29udGFpbmVyIiwib3B0aW9ucyIsImdlbmVyYXRlT3B0aW9ucyIsImNoYW5nZUltZyIsInNvdW5kIiwiY2hhbmdlU2l6ZSIsInNhdmVHYW1lIiwic2h1ZmZsZSIsInNhdmVkR2FtZXMiLCJ0b3BTY29yZXMiLCJzb2x2ZVB1enpsZSIsImV2ZW50cyIsIkdhbWVCb2FyZCJdLCJtYXBwaW5ncyI6Im1CQVFlLFNBQVNBLEVBQ3RCQyxFQUNBQyxFQUNBQyxFQUNBQyxHLFVBQ0Esb0RBRUEsSUFBSUMsRUFBZSxLQUVuQixJQUNFQSxFQUFVQyxTQUFTQyxjQUFjTixHQUNqQyxNQUFPTyxHQUNQLE1BQU0sSUFBSUMsTUFBTSx3REE2QmxCLE9BMUJJUCxJQUFZLEVBQUFHLEVBQVFLLFdBQVVDLElBQUcsUUFBSVQsRUFBV1UsTUFBTSxNQUV0RFQsR0FBU1UsTUFBTUMsUUFBUVgsR0FDekJBLEVBQU1ZLFNBQ0osU0FBQ0MsR0FBaUIsT0FBQUEsR0FBZ0JYLEVBQVFZLE9BQU9ELE1BRTFDYixHQUEwQixpQkFBVkEsRUFDekJFLEVBQVFZLE9BQU9kLEdBQ05BLEdBQTBCLGlCQUFWQSxJQUN6QkUsRUFBUWEsVUFBWWYsR0FHbEJDLEdBQVFBLEVBQU9hLE9BQU9aLEdBRXRCYyxFQUFTQyxRQUNYRCxFQUFTSixTQUFRLFNBQUMsRyxJQUFDTSxFQUFRLEtBQUVDLEVBQVMsS0FDbEIsS0FBZEEsR0FBa0JqQixFQUFRa0IsYUFBYUYsRUFBVSxJQUVqREEsRUFBU0csTUFBTSxpRkFDakJuQixFQUFRa0IsYUFBYUYsRUFBVUMsR0FFL0JqQixFQUFRb0IsUUFBUUosR0FBWUMsS0FLM0JqQixFQ2VULFFBaEV1QyxDQUNyQyxFQUNBLEVBQ0Es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TyxTQUFVLGlDQUFrQyxDQUNuRUEsRUFBTyxNQUFPLEdBQUksS0FBTSxLQUFNLENBQUMsTUFBTyxnQ0FDdENBLEVBQU8sSUFBSyxHQUFJLGNBQWUsT0FDOUJnQyxLQUFLZ0ksUUFBUyxDQUFDLFFBQVMsNkJBRTNCaEksS0FBS3dJLFVBQVl4SyxFQUFPLFNBQVUsZ0NBQWlDLENBQ2pFQSxFQUFPLE1BQU8sR0FBSSxLQUFNLEtBQU0sQ0FBQyxNQUFPLDJCQUN0Q0EsRUFBTyxJQUFLLEdBQUksYUFBYyxPQUM3QmdDLEtBQUtnSSxTQUVSaEksS0FBS3lJLFlBQWN6SyxFQUFPLFNBQVUsa0NBQW1DLENBQ3JFQSxFQUFPLE1BQU8sR0FBSSxLQUFNLEtBQU0sQ0FBQyxNQUFPLDZCQUN0Q0EsRUFBTyxJQUFLLEdBQUksZUFBZ0IsT0FDL0JnQyxLQUFLZ0ksUUFBUyxDQUFDLFFBQVMsNkJBRTNCaEksS0FBSzBJLFVBR1AsWUFBQUEsT0FBQSxXQUNFMUksS0FBS2tJLFVBQVVoSSxpQkFBaUIsUUFBU0YsS0FBS3NILGVBQzlDdEgsS0FBS21JLE1BQU1qSSxpQkFBaUIsUUFBU0YsS0FBS3dILGNBQzFDeEgsS0FBS29JLFdBQVdsSSxpQkFBaUIsUUFBU0YsS0FBSzBILGFBQy9DMUgsS0FBS3FJLFNBQVNuSSxpQkFBaUIsUUFBU0YsS0FBSzJILGlCQUM3QzNILEtBQUtzSSxRQUFRcEksaUJBQWlCLFFBQVNGLEtBQUs0SCxhQUM1QzVILEtBQUt1SSxXQUFXckksaUJBQWlCLFFBQVNGLEtBQUtELGdCQUMvQ0MsS0FBS3dJLFVBQVV0SSxpQkFBaUIsUUFBU0YsS0FBSzZILGVBQzlDN0gsS0FBS3lJLFlBQVl2SSxpQkFBaUIsUUFBU0YsS0FBSzhILGVBMERwRCxFQWxKQSxDQUF5Q2EsR0RGNUIsQ0FBa0IsR0FFMUJWLG1CIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZXNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNoaWxkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEBwYXJhbSAgey4uLmFycmF5fSBkYXRhQXR0clxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZShcbiAgZWw6IHN0cmluZyxcbiAgY2xhc3NOYW1lczogc3RyaW5nLFxuICBjaGlsZDogYW55LFxuICBwYXJlbnQ6IEhUTUxFbGVtZW50LFxuICAuLi5kYXRhQXR0cjogYW55XG4pOkhUTUxFbGVtZW50IHtcbiAgbGV0IGVsZW1lbnQ6IGFueSA9IG51bGw7XG5cbiAgdHJ5IHtcbiAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIEhUTUxFbGVtZW50ISBHaXZlIGEgcHJvcGVyIHRhZyBuYW1lJyk7XG4gIH1cblxuICBpZiAoY2xhc3NOYW1lcykgZWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZXMuc3BsaXQoJyAnKSk7XG5cbiAgaWYgKGNoaWxkICYmIEFycmF5LmlzQXJyYXkoY2hpbGQpKSB7XG4gICAgY2hpbGQuZm9yRWFjaChcbiAgICAgIChjaGlsZEVsZW1lbnQpID0+IGNoaWxkRWxlbWVudCAmJiBlbGVtZW50LmFwcGVuZChjaGlsZEVsZW1lbnQpLFxuICAgICk7XG4gIH0gZWxzZSBpZiAoY2hpbGQgJiYgdHlwZW9mIGNoaWxkID09PSAnb2JqZWN0Jykge1xuICAgIGVsZW1lbnQuYXBwZW5kKGNoaWxkKTtcbiAgfSBlbHNlIGlmIChjaGlsZCAmJiB0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBjaGlsZDtcbiAgfVxuXG4gIGlmIChwYXJlbnQpIHBhcmVudC5hcHBlbmQoZWxlbWVudCk7XG5cbiAgaWYgKGRhdGFBdHRyLmxlbmd0aCkge1xuICAgIGRhdGFBdHRyLmZvckVhY2goKFthdHRyTmFtZSwgYXR0clZhbHVlXTpBcnJheTxzdHJpbmc+KSA9PiB7XG4gICAgICBpZiAoYXR0clZhbHVlID09PSAnJykgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsICcnKTtcblxuICAgICAgaWYgKGF0dHJOYW1lLm1hdGNoKC92YWx1ZXxpZHxwbGFjZWhvbGRlcnxjb2xzfHJvd3N8cm9sZXxhcmlhfHNyY3xhbHR8dGl0bGV8YXV0b2NvcnJlY3R8c3BlbGxjaGVjay8pKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5kYXRhc2V0W2F0dHJOYW1lXSA9IGF0dHJWYWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuIiwiY29uc3QgZG9udFVzZVN0cmljdGx5OiBBcnJheTxudW1iZXI+ID0gW1xuICAwLFxuICAxLFxuICAxMDAsXG4gIDExMCxcbiAgMTIxLFxuICAxMjYsXG4gIDEzLFxuICAxMzMsXG4gIDE0NSxcbiAgMTYsXG4gIDE4LFxuICAxOSxcbiAgMjIsXG4gIDIzLFxuICAyNCxcbiAgMjYsXG4gIDI3LFxuICAyOCxcbiAgMzAsXG4gIDM0LFxuICAzNixcbiAgMzksXG4gIDQyLFxuICA0NSxcbiAgNDYsXG4gIDQ3LFxuICA0OCxcbiAgNDksXG4gIDUxLFxuICA1MixcbiAgNTMsXG4gIDU0LFxuICA1NSxcbiAgNTYsXG4gIDU3LFxuICA1OCxcbiAgNjAsXG4gIDYxLFxuICA2MixcbiAgNjMsXG4gIDY0LFxuICA2NixcbiAgNjcsXG4gIDcxLFxuICA3MixcbiAgNzUsXG4gIDc2LFxuICA3OCxcbiAgNzksXG4gIDgsXG4gIDgwLFxuICA4MSxcbiAgODIsXG4gIDgzLFxuICA4NCxcbiAgODUsXG4gIDg2LFxuICA4NyxcbiAgODksXG4gIDkzLFxuICA5Nyxcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGRvbnRVc2VTdHJpY3RseTtcbiIsImltcG9ydCBjcmVhdGUgZnJvbSAnLi91dGlscy9jcmVhdGUnO1xuaW1wb3J0IHsgYWRkWmVybyB9IGZyb20gJy4vR2FtZUJvYXJkJztcbmltcG9ydCBSZWNvcmRzIGZyb20gJy4vcmVjb3Jkcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluZm9Nb2RhbCB7XG4gIHBhcmVudDogSFRNTEVsZW1lbnQ7XG5cbiAgbW9kYWxCYXNlOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5tb2RhbEJhc2UgPSBjcmVhdGUoJ2RpdicsICdtb2RhbC1iYXNlJywgJycsIHBhcmVudCk7XG4gICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gIH1cblxuICBiaW5kRXZlbnRzKCkge1xuICAgIGNvbnN0IGNsb3NlQnRuID0gY3JlYXRlKFxuICAgICAgJ2J1dHRvbicsXG4gICAgICAnY2xvc2UtbW9kYWwtYnRuJyxcbiAgICAgIGBcbiAgICAgIDxzdmcgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjEyXCIgdmlld0JveD1cIjAgMCAxMiAxMlwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTcuNDI2MTggNi4wMDAwM0wxMS43MDQ2IDEuNzIxNThDMTIuMDk4NSAxLjMyNzc1IDEyLjA5ODUgMC42ODkyMTMgMTEuNzA0NiAwLjI5NTQzM0MxMS4zMTA4IC0wLjA5ODQwMjcgMTAuNjcyMyAtMC4wOTg0MDI3IDEwLjI3ODUgMC4yOTU0MzNMNS45OTk5OCA0LjU3Mzk0TDEuNzIxNDggMC4yOTUzNzdDMS4zMjc2NSAtMC4wOTg0NTkgMC42ODkxNyAtMC4wOTg0NTkgMC4yOTUzMzQgMC4yOTUzNzdDLTAuMDk4NDQ0OCAwLjY4OTIxMyAtMC4wOTg0NDQ4IDEuMzI3NzUgMC4yOTUzMzQgMS43MjE1M0w0LjU3MzgzIDUuOTk5OTdMMC4yOTUzMzQgMTAuMjc4NUMtMC4wOTg0NDQ4IDEwLjY3MjMgLTAuMDk4NDQ0OCAxMS4zMTA4IDAuMjk1MzM0IDExLjcwNDZDMC42ODkxNyAxMi4wOTg1IDEuMzI3NjUgMTIuMDk4NSAxLjcyMTQ4IDExLjcwNDZMNS45OTk5OCA3LjQyNjEyTDEwLjI3ODUgMTEuNzA0NkMxMC42NzIzIDEyLjA5ODUgMTEuMzEwOCAxMi4wOTg1IDExLjcwNDYgMTEuNzA0NkMxMi4wOTg1IDExLjMxMDggMTIuMDk4NSAxMC42NzIzIDExLjcwNDYgMTAuMjc4NUw3LjQyNjE4IDYuMDAwMDNaXCIgZmlsbD1cIiNmZmZmZmZcIi8+XG4gICAgICA8L3N2Zz5gLFxuICAgICAgdGhpcy5tb2RhbEJhc2UsXG4gICAgKTtcbiAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VNb2RhbCk7XG4gIH1cblxuICBjbG9zZU1vZGFsID0gKCkgPT4ge1xuICAgIHRoaXMubW9kYWxCYXNlLnJlbW92ZSgpO1xuICB9O1xuXG4gIGZpbmlzaGVkKHRpbWU6IG51bWJlciwgbW92ZXM6IG51bWJlcikge1xuICAgIGNyZWF0ZSgnaDEnLCAnbW9kYWwtdGl0bGUnLCAnR3JlYXQhISEgWW91IGhhdmUgZmluaXNoZWQgdGhlIHB1enpsZScsIHRoaXMubW9kYWxCYXNlKTtcbiAgICBjcmVhdGUoXG4gICAgICAncCcsXG4gICAgICAnd2luLXBhcmFtZXRlcnMnLFxuICAgICAgYEFuZCBpdCBsYXN0ZWQgJHthZGRaZXJvKE1hdGguZmxvb3IodGltZSAvIDYwKSl9OiR7YWRkWmVybyh0aW1lICUgNjApfSBhbmQgJHttb3Zlc30gbW92ZXNgLFxuICAgICAgdGhpcy5tb2RhbEJhc2UsXG4gICAgKTtcbiAgfVxuXG4gIGxpbWl0SXNPdXQgPSAoKSA9PiB7fVxuXG4gIGdlbmVyYXRlVGFibGUocmVjb3JkczogQXJyYXk8UmVjb3Jkcz4pIHtcbiAgICBjb25zdCB0YWJsZSA9IGNyZWF0ZSgndGFibGUnLCAndGFibGUnLCBudWxsLCB0aGlzLm1vZGFsQmFzZSk7XG4gICAgY3JlYXRlKFxuICAgICAgJ3RoZWFkJyxcbiAgICAgICcnLFxuICAgICAgY3JlYXRlKFxuICAgICAgICAndHInLFxuICAgICAgICAnJyxcbiAgICAgICAgYDx0aCBzY29wZT1cImNvbFwiPiM8L3RoPlxuICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5EYXRlPC90aD5cbiAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+TW92ZXM8L3RoPlxuICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5UaW1lPC90aD5gLFxuICAgICAgICB0YWJsZSxcbiAgICAgICksXG4gICAgICB0YWJsZSxcbiAgICApO1xuICAgIGNvbnN0IHRCb2R5ID0gY3JlYXRlKCd0Ym9keScsICcnLCAnJywgdGFibGUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xuICAgICAgaWYgKHJlY29yZHNbaV0gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgY29uc3QgdGltZSA9IGAke2FkZFplcm8oTWF0aC5mbG9vcihyZWNvcmRzW2ldLnRpbWUgLyA2MCkpfToke2FkZFplcm8ocmVjb3Jkc1tpXS50aW1lICUgNjApfWA7XG4gICAgICBjcmVhdGUoXG4gICAgICAgICd0cicsXG4gICAgICAgICcnLFxuICAgICAgICBgPHRoIHNjb3BlPVwicm93XCI+JHtpICsgMX08L3RoPlxuICAgICAgICA8dGQ+JHtuZXcgRGF0ZShgJHtyZWNvcmRzW2ldLmRhdGV9YCkudG9Mb2NhbGVTdHJpbmcoKX08L3RkPlxuICAgICAgICA8dGQ+JHtyZWNvcmRzW2ldLm1vdmVzfTwvdGQ+XG4gICAgICAgIDx0ZD4ke3RpbWV9PC90ZD5gLFxuICAgICAgICB0Qm9keSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZ2FtZUlzU2F2ZWQgPSAoKSA9PiB7fVxuXG4gIHNob3dTYXZlZEdhbWVzID0gKCkgPT4ge31cbn1cbiIsImltcG9ydCBDZWxsIGZyb20gJy4vQ2VsbCc7XG5pbXBvcnQgY3JlYXRlIGZyb20gJy4vdXRpbHMvY3JlYXRlJztcbmltcG9ydCBkb250VXNlU3RyaWN0bHkgZnJvbSAnLi91dGlscy9kb250VXNlSW1nJztcbmltcG9ydCBJbmZvTW9kYWwgZnJvbSAnLi9JbmZvTW9kYWwnO1xuaW1wb3J0IFJlY29yZHMgZnJvbSAnLi9yZWNvcmRzJztcblxuZXhwb3J0IGNvbnN0IG1haW46IEhUTUxFbGVtZW50ID0gY3JlYXRlKFxuICAnbWFpbicsXG4gICdnYW1lJyxcbiAgbnVsbCxcbiAgbnVsbCxcbik7XG5leHBvcnQgY29uc3QgYWRkWmVybyA9IChudW06bnVtYmVyKSA9PiAobnVtIDwgMTAgPyAnMCcgOiAnJykgKyBudW07XG5cbmV4cG9ydCBjbGFzcyBHYW1lQm9hcmQge1xuICBzaXplOiBudW1iZXI7XG5cbiAgY2VsbHM6IEFycmF5PENlbGw+O1xuXG4gIHB1enpsZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgZ2FtZUJvYXJkOiBIVE1MRWxlbWVudDtcblxuICBlbXB0eTogQ2VsbDtcblxuICBjZWxsU2l6ZTogbnVtYmVyO1xuXG4gIGJnU3JjOiBzdHJpbmc7XG5cbiAgc291bmRPbjpib29sZWFuO1xuXG4gIGF1ZGlvOkhUTUxBdWRpb0VsZW1lbnQ7XG5cbiAgbW92ZXM6bnVtYmVyO1xuXG4gIHRpbWVyOm51bWJlcjtcblxuICBjYW5jZWxUaW1lcjogYm9vbGVhbjtcblxuICBtb3ZlTnVtYmVyczogSFRNTEVsZW1lbnQ7XG5cbiAgbW92ZVByb2dyZXNzOiBIVE1MRWxlbWVudDtcblxuICB0aW1lVGltZTogSFRNTEVsZW1lbnQ7XG5cbiAgdGltZVByb2dyZXNzOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihzaXplOiBudW1iZXIpIHtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMuZ2VuZXJhdGVCZ0ltZygpO1xuICAgIHRoaXMuY2FuY2VsVGltZXIgPSBmYWxzZTtcbiAgICB0aGlzLmdlbmVyYXRlQmFzZUxheW91dCgpO1xuICAgIHRoaXMuc291bmRPbiA9IHRydWU7XG4gIH1cblxuICBnZW5lcmF0ZUJhc2VMYXlvdXQoKSB7XG4gICAgLy8gd2luZG93LmlubmVyV2lkdGggPiAxMDI0OyAzMCwyMCwxMD1wYWRkaW5nKjI7IDAuNjg9ZmxleC1iYXNpczsgNTAsMzA9dGltaW5nLWJsb2NrOyAwLjhoO1xuICAgIHRoaXMuY2VsbFNpemUgPSBNYXRoLmZsb29yKCh3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjggLSAzMCkgLyB0aGlzLnNpemUpXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMjQpIHtcbiAgICAgIHRoaXMuY2VsbFNpemUgPSBNYXRoLmZsb29yKCgod2luZG93LmlubmVyV2lkdGggLSAyMCkgKiAwLjY4IC0gNTApIC8gdGhpcy5zaXplKTtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDQxNCkge1xuICAgICAgdGhpcy5jZWxsU2l6ZSA9IE1hdGguZmxvb3IoKHdpbmRvdy5pbm5lcldpZHRoIC0gMTAgLSAzMCkgLyB0aGlzLnNpemUpO1xuICAgIH1cbiAgICB0aGlzLnB1enpsZUNvbnRhaW5lciA9IGNyZWF0ZSgnZGl2JywgJ3B1enpsZS1jb250YWluZXInLCBudWxsLCBudWxsKTtcbiAgICBtYWluLnByZXBlbmQodGhpcy5wdXp6bGVDb250YWluZXIpO1xuICAgIHRoaXMuZ2FtZUJvYXJkID0gY3JlYXRlKCdkaXYnLCAnc2xpZGluZy1wdXp6bGUnLCBudWxsLCB0aGlzLnB1enpsZUNvbnRhaW5lcik7XG4gICAgdGhpcy5hdWRpbyA9IDxIVE1MQXVkaW9FbGVtZW50PmNyZWF0ZSgnYXVkaW8nLCAnc291bmQnLCBudWxsLCB0aGlzLnB1enpsZUNvbnRhaW5lciwgWydzcmMnLCAnLi9zcmMvc291bmRzL3NoaWZ0Lm1wMyddKTtcbiAgICB0aGlzLmdhbWVCb2FyZC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmNlbGxTaXplICogdGhpcy5zaXplICsgMTYgLyB0aGlzLnNpemV9cHhgO1xuICAgIHRoaXMuZ2FtZUJvYXJkLnN0eWxlLndpZHRoID0gYCR7dGhpcy5jZWxsU2l6ZSAqIHRoaXMuc2l6ZSArIDE2IC8gdGhpcy5zaXplfXB4YDtcbiAgICB0aGlzLmNlbGxzID0gW107XG4gICAgdGhpcy5tb3ZlcyA9IDA7XG4gICAgdGhpcy50aW1lciA9IDA7XG4gICAgdGhpcy5tb3ZlTnVtYmVycyA9IGNyZWF0ZSgncCcsICdtb3ZlLW51bWJlcnMgdGltaW5nLXRleHQnLCAnTW92ZXMgMCcsIG51bGwpO1xuICAgIHRoaXMubW92ZVByb2dyZXNzID0gY3JlYXRlKCdkaXYnLCAncHJvZ3Jlc3MtYmFyIG1vdmUtcHJvZ3Jlc3MnLCBudWxsLCBudWxsKTtcbiAgICB0aGlzLnRpbWVUaW1lID0gY3JlYXRlKCdwJywgJ3RpbWluZy10ZXh0IHRpbWUtdGltZScsICdUaW1lIDAwOjAwJywgbnVsbCk7XG4gICAgdGhpcy50aW1lUHJvZ3Jlc3MgPSBjcmVhdGUoJ2RpdicsICdwcm9ncmVzcy1iYXIgdGltZS1wcm9ncmVzcycsIG51bGwsIG51bGwpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBjb25zdCBudW1iZXJzID0gdGhpcy5yYW5kb21pemUoKTtcbiAgICBjb25zdCBlbXB0eUluZGV4ID0gbnVtYmVycy5pbmRleE9mKCcnKTtcbiAgICB0aGlzLmVtcHR5ID0ge1xuICAgICAgaWQ6IGVtcHR5SW5kZXggKyAxLFxuICAgICAgdmFsdWU6IG51bWJlcnNbZW1wdHlJbmRleF0sXG4gICAgICBsZWZ0OiBlbXB0eUluZGV4ICUgdGhpcy5zaXplLFxuICAgICAgdG9wOiAoZW1wdHlJbmRleCAtIChlbXB0eUluZGV4ICUgdGhpcy5zaXplKSkgLyB0aGlzLnNpemUsXG4gICAgICBlbGVtZW50OiBjcmVhdGUoJ2RpdicsICdlbXB0eScsIGAke251bWJlcnNbZW1wdHlJbmRleF19YCwgbnVsbCksXG4gICAgfTtcblxuICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCBudW1iZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBsZWZ0ID0gaSAlIHRoaXMuc2l6ZTtcbiAgICAgIGNvbnN0IHRvcCA9IChpIC0gbGVmdCkgLyB0aGlzLnNpemU7XG4gICAgICBpZiAobnVtYmVyc1tpXSA9PT0gJycpIHtcbiAgICAgICAgdGhpcy5jZWxscy5wdXNoKHRoaXMuZW1wdHkpO1xuICAgICAgICB0aGlzLmdhbWVCb2FyZC5hcHBlbmQodGhpcy5lbXB0eS5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUNlbGwodGhpcy5lbXB0eSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjZWxsID0gY3JlYXRlKCdkaXYnLCAnY2VsbCcsIGAke251bWJlcnNbaV19YCwgdGhpcy5nYW1lQm9hcmQpO1xuXG4gICAgICAgIHRoaXMuY2VsbHMucHVzaCh7XG4gICAgICAgICAgaWQ6IGkgKyAxLFxuICAgICAgICAgIHZhbHVlOiBudW1iZXJzW2ldLFxuICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgdG9wLFxuICAgICAgICAgIGVsZW1lbnQ6IGNlbGwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdlbmVyYXRlQ2VsbCh0aGlzLmNlbGxzW2ldKTtcbiAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMubW92ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmNlbGxzW2ldLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5jZWxsU2l6ZSAtIDE2IC8gdGhpcy5zaXplfXB4YDtcbiAgICAgIHRoaXMuY2VsbHNbaV0uZWxlbWVudC5zdHlsZS53aWR0aCA9IGAke3RoaXMuY2VsbFNpemUgLSAxNiAvIHRoaXMuc2l6ZX1weGA7XG4gICAgICAvLyB3aHkgMTY/IGJlY2F1c2UgaXQgbXVsdGlwbGUgOChtYXggc2l6ZSBvZiBib2FyZCk/XG4gICAgICAvLyBpdCBpcyBqdXN0IGdhcCBiZXR3ZWVuIGNlbGxzXG4gICAgfVxuICAgIHRoaXMuZHJhd0JnKHRoaXMuYmdTcmMpO1xuICAgIHRoaXMuZ2VuZXJhdGVUaW1pbmdMYXlvdXQoKVxuICAgIGRvY3VtZW50LmJvZHkucHJlcGVuZChtYWluKTtcbiAgfVxuXG4gIHJhbmRvbWl6ZSgpOiBBcnJheTxudW1iZXIgfCBzdHJpbmc+IHtcbiAgICBjb25zdCBudW1iZXJzOiBBcnJheTxudW1iZXIgfCBzdHJpbmc+ID0gWycnXTtcbiAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAxOyBpIDw9IHRoaXMuc2l6ZSAqKiAyIC0gMTsgaSArPSAxKSB7XG4gICAgICBudW1iZXJzLnB1c2goaSk7XG4gICAgfVxuICAgIG51bWJlcnMuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTtcbiAgICB3aGlsZSAoIXRoaXMuaGFzU29sdXRpb24obnVtYmVycykpIHtcbiAgICAgIG51bWJlcnMuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bWJlcnM7XG4gIH1cblxuICBoYXNTb2x1dGlvbihudW1iZXJzOiBBcnJheTxudW1iZXIgfCBzdHJpbmc+KTogYm9vbGVhbiB7XG4gICAgLy8gWyAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1XTtcbiAgICBsZXQgaW52ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChudW1iZXJzW2ldKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaTsgaiArPSAxKSB7XG4gICAgICAgICAgaWYgKG51bWJlcnNbal0gPiBudW1iZXJzW2ldKSBpbnYgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW52ICs9IDEgKyBNYXRoLmZsb29yKGkgLyB0aGlzLnNpemUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gIShpbnYgJSAyKTtcbiAgfVxuXG4gIG1vdmUgPSAoZTogRXZlbnQpID0+IHtcbiAgICBjb25zdCBjZWxsID0gdGhpcy5jZWxscy5maWx0ZXIoXG4gICAgICAob2JqKSA9PiBvYmouZWxlbWVudCA9PT0gKGUudGFyZ2V0IGFzIEVsZW1lbnQpLmNsb3Nlc3QoJy5jZWxsJyksXG4gICAgKVswXTtcbiAgICBjb25zdCBsZWZ0RGlmZiA9IE1hdGguYWJzKHRoaXMuZW1wdHkubGVmdCAtIGNlbGwubGVmdCk7XG4gICAgY29uc3QgdG9wRGlmZiA9IE1hdGguYWJzKHRoaXMuZW1wdHkudG9wIC0gY2VsbC50b3ApO1xuXG4gICAgaWYgKGxlZnREaWZmICsgdG9wRGlmZiA+IDEpIHJldHVyblxuICAgIGlmICh0aGlzLmNhbmNlbFRpbWVyKSB0aGlzLmNhbmNlbFRpbWVyID0gZmFsc2U7XG4gICAgdGhpcy5nZW5lcmF0ZU1vdmVzKCk7XG4gICAgaWYgKHRoaXMuc291bmRPbikgdGhpcy5hdWRpby5wbGF5KCk7XG5cbiAgICBjb25zdCBlbXB0eUxlZnQgPSB0aGlzLmVtcHR5LmxlZnQ7XG4gICAgY29uc3QgZW1wdHlUb3AgPSB0aGlzLmVtcHR5LnRvcDtcbiAgICBjb25zdCBlbXB0eUlkID0gdGhpcy5lbXB0eS5pZDtcblxuICAgIHRoaXMuZW1wdHkubGVmdCA9IGNlbGwubGVmdDtcbiAgICB0aGlzLmVtcHR5LnRvcCA9IGNlbGwudG9wO1xuICAgIHRoaXMuZW1wdHkuaWQgPSBjZWxsLmlkO1xuXG4gICAgY2VsbC5sZWZ0ID0gZW1wdHlMZWZ0O1xuICAgIGNlbGwudG9wID0gZW1wdHlUb3A7XG4gICAgY2VsbC5pZCA9IGVtcHR5SWQ7XG5cbiAgICBpZiAodGhpcy5pc1NvbHZlZCh0aGlzLnNpemUpKSB7XG4gICAgICB0aGlzLmNhbmNlbFRpbWVyID0gdHJ1ZTtcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IEluZm9Nb2RhbCh0aGlzLmdhbWVCb2FyZClcbiAgICAgIG1vZGFsLmZpbmlzaGVkKHRoaXMudGltZXIsIHRoaXMubW92ZXMpO1xuICAgICAgY29uc3QgcmVjb3JkcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JlY29yZHMnKSkgfHwge307XG4gICAgICBjb25zdCBzaXplID0gYCR7dGhpcy5zaXplfWA7XG4gICAgICBpZiAoIXJlY29yZHNbc2l6ZV0pIHJlY29yZHNbc2l6ZV0gPSBbXTtcblxuICAgICAgcmVjb3Jkc1tzaXplXS5wdXNoKHtcbiAgICAgICAgZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgbW92ZXM6IHRoaXMubW92ZXMsXG4gICAgICAgIHRpbWU6IHRoaXMudGltZXIsXG4gICAgICB9KVxuICAgICAgcmVjb3Jkc1tzaXplXS5zb3J0KChhOlJlY29yZHMsIGI6UmVjb3JkcykgPT4gYS5tb3ZlcyAtIGIubW92ZXMpXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVjb3JkcycsIEpTT04uc3RyaW5naWZ5KHJlY29yZHMpKTtcbiAgICB9XG4gICAgdGhpcy5nZW5lcmF0ZUNlbGwodGhpcy5lbXB0eSk7XG4gICAgdGhpcy5nZW5lcmF0ZUNlbGwoY2VsbCk7XG4gIH07XG5cbiAgZ2VuZXJhdGVDZWxsKGVsOiBDZWxsKSB7XG4gICAgY29uc3QgY2VsbCA9IGVsO1xuICAgIGNlbGwuZWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7Y2VsbC5sZWZ0ICogdGhpcy5jZWxsU2l6ZSArIDE2IC8gdGhpcy5zaXplfXB4YDtcbiAgICBjZWxsLmVsZW1lbnQuc3R5bGUudG9wID0gYCR7Y2VsbC50b3AgKiB0aGlzLmNlbGxTaXplICsgMTYgLyB0aGlzLnNpemV9cHhgO1xuICB9XG5cbiAgZ2VuZXJhdGVCZ0ltZygpIHtcbiAgICBsZXQgbnVtID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTUwKTtcbiAgICB3aGlsZSAoZG9udFVzZVN0cmljdGx5LmluY2x1ZGVzKG51bSkpIHtcbiAgICAgIG51bSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDE1MCk7XG4gICAgfVxuICAgIHRoaXMuYmdTcmMgPSBgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2lyaW5haW5pbmEvaW1hZ2UtZGF0YS9tYXN0ZXIvYm94LyR7bnVtfS5qcGdgO1xuICB9XG5cbiAgYXN5bmMgZHJhd0JnKHNyYzogc3RyaW5nKSB7XG4gICAgLy8gZmlyc3RseSBjb252ZXJ0IGltYWdlIHRvIERhdGEgVXJsXG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IGZldGNoKHNyYykudGhlbigocikgPT4gci5ibG9iKCkpO1xuICAgIGNvbnN0IGRhdGFVcmw6IHN0cmluZyA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdC50b1N0cmluZygpKTtcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgIH0pO1xuICAgIC8vIG5vdyBkbyBzb21ldGhpbmcgd2l0aCBgZGF0YVVybGBcbiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNTY5MDY0MS9pbWctdXJsLXRvLWRhdGF1cmwtdXNpbmctamF2YXNjcmlwdFxuXG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLnNyYyA9IGRhdGFVcmw7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY2FudmFzLmhlaWdodCA9IDkwMCAvIHRoaXMuc2l6ZSAtIDE2IC8gdGhpcy5zaXplO1xuICAgIGNhbnZhcy53aWR0aCA9IDkwMCAvIHRoaXMuc2l6ZSAtIDE2IC8gdGhpcy5zaXplO1xuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNlbGxzLmZvckVhY2goKG9iaikgPT4ge1xuICAgICAgICBjb25zdCBjZWxsID0gb2JqO1xuICAgICAgICBpZiAodHlwZW9mIGNlbGwudmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxlZnQgPSAoY2VsbC52YWx1ZSAtIDEpICUgdGhpcy5zaXplO1xuICAgICAgICBjb25zdCB0b3AgPSAoY2VsbC52YWx1ZSAtIDEgLSBsZWZ0KSAvIHRoaXMuc2l6ZTtcblxuICAgICAgICBjb25zdCB4ID0gbGVmdCAqIChpbWcuaGVpZ2h0IC8gdGhpcy5zaXplIC0gMTYgLyB0aGlzLnNpemUpO1xuICAgICAgICBjb25zdCB5ID0gdG9wICogKGltZy5oZWlnaHQgLyB0aGlzLnNpemUgLSAxNiAvIHRoaXMuc2l6ZSk7XG5cbiAgICAgICAgY29uc3QgaW1nU2l6ZSA9IGltZy5oZWlnaHQgLyB0aGlzLnNpemUgLSAxNiAvIHRoaXMuc2l6ZTtcblxuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgeCwgeSwgaW1nU2l6ZSwgaW1nU2l6ZSwgMCwgMCwgaW1nU2l6ZSwgaW1nU2l6ZSk7XG4gICAgICAgIGNlbGwuZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke2NhbnZhcy50b0RhdGFVUkwoKX0nKWA7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgZ2VuZXJhdGVUaW1pbmdMYXlvdXQoKSB7XG4gICAgLy8gcGFpblxuICAgIGNyZWF0ZSgnZGl2JywgJ3RpbWluZycsIFtcblxuICAgICAgY3JlYXRlKCdkaXYnLCAnbW92ZXMnLCBbXG4gICAgICAgIGNyZWF0ZSgnZGl2JywgJ21vdmUtaWNvbiB0aW1pbmctaWNvbiBpY29uLWRhcmtlZCcsXG4gICAgICAgICAgY3JlYXRlKCdpbWcnLCAnJywgbnVsbCwgbnVsbCwgWydzcmMnLCAnLi9zcmMvaWNvbnMvbW92ZS5zdmcnXSwgWydhbHQnLCAnbW92ZW1lbnQnXSwgWyd0aXRsZScsICdtb3ZlcyddKSwgbnVsbCksXG5cbiAgICAgICAgY3JlYXRlKCdkaXYnLCAncHJvZ3Jlc3MgbW92ZS10aW1pbmcnLCBbdGhpcy5tb3ZlTnVtYmVycywgdGhpcy5tb3ZlUHJvZ3Jlc3NdLCBudWxsKSxcbiAgICAgIF0sIG51bGwpLFxuXG4gICAgICBjcmVhdGUoJ2RpdicsICd0aW1lJywgW1xuICAgICAgICBjcmVhdGUoJ2RpdicsICd0aW1lLWljb24gdGltaW5nLWljb24gaWNvbi1kYXJrZWQnLFxuICAgICAgICAgIGNyZWF0ZSgnaW1nJywgJycsIG51bGwsIG51bGwsIFsnc3JjJywgJy4vc3JjL2ljb25zL2hvdXJnbGFzcy5zdmcnXSwgWydhbHQnLCAnaG91cmdsYXNzJ10sIFsndGl0bGUnLCAndGltZSddKSwgbnVsbCksXG5cbiAgICAgICAgY3JlYXRlKCdkaXYnLCAncHJvZ3Jlc3MgdGltZS10aW1pbmcnLCBbdGhpcy50aW1lVGltZSwgdGhpcy50aW1lUHJvZ3Jlc3NdLCBudWxsKSxcbiAgICAgIF0sIG51bGwpLFxuICAgIF0sIHRoaXMucHV6emxlQ29udGFpbmVyKS5zdHlsZS5oZWlnaHQgPSB0aGlzLmdhbWVCb2FyZC5zdHlsZS5oZWlnaHQ7XG4gIH1cblxuICBnZW5lcmF0ZVRpbWUgPSAoKSA9PiB7XG4gICAgY29uc3QgbGltaXQgPSAoMS40ICogdGhpcy5zaXplIC0gMS44KSAqIDYwO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IHRoaXMubW92ZVByb2dyZXNzLmNsb3Nlc3QoJy5wcm9ncmVzcycpLmNsaWVudEhlaWdodDtcbiAgICB0aGlzLnRpbWVyICs9IDE7IC8vIHNlY29uZHNcblxuICAgIHRoaXMudGltZVRpbWUudGV4dENvbnRlbnQgPSBgVGltZSAke2FkZFplcm8oTWF0aC5mbG9vcih0aGlzLnRpbWVyIC8gNjApKX06JHthZGRaZXJvKHRoaXMudGltZXIgJSA2MCl9YFxuICAgIHRoaXMudGltZVByb2dyZXNzLnN0eWxlLmhlaWdodCA9IGAke21heEhlaWdodCAqICgobGltaXQgLSB0aGlzLnRpbWVyKSAvIGxpbWl0KX1weGBcblxuICAgIGlmICh0aGlzLmNhbmNlbFRpbWVyKSByZXR1cm47XG4gICAgc2V0VGltZW91dCh0aGlzLmdlbmVyYXRlVGltZSwgMTAwMCk7XG4gIH1cbiAgLy8gezMgIDAuOG1pbiA2MCAtPiAxbWluIDYwbW92ZXNcbiAgLy8gNCAgMS41bWluIDE2MCAtPiAzbWluIDI1MG1vdmVzXG4gIC8vIDUgIDNtaW4gMzUwIC0+IDRtaW4gNTAwbW92ZXNcbiAgLy8gNiAgNW1pbiA1NzAgLT4gNm1pbiA3MDBtb3Zlc1xuICAvLyA3ICA4bWluIDgwMCAtPiA5bWluIDkwMG1vdmVzXG4gIC8vIDggIDEwbWluIDEwMDAgLT4gMTBtaW4gMTAwMG1vdmVzXG5cbiAgLy8gYXBwcm94aW1hdGlvbiB0aW1lKHNpemUpID0gMS40ICogc2l6ZSAtIDEuOFxuICAvLyBhcHByb3hpbWF0aW9uIG1vdmVzKHNpemUpID0gMTk1ICogc2l6ZSAtIDUwOH1cbiAgZ2VuZXJhdGVNb3ZlcyA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5tb3ZlcyA9PT0gMCkgdGhpcy5nZW5lcmF0ZVRpbWUoKTtcbiAgICBjb25zdCBsaW1pdCA9IDE5NSAqIHRoaXMuc2l6ZSAtIDUwODtcbiAgICBjb25zdCBtYXhIZWlnaHQgPSB0aGlzLm1vdmVQcm9ncmVzcy5jbG9zZXN0KCcucHJvZ3Jlc3MnKS5jbGllbnRIZWlnaHQ7XG4gICAgdGhpcy5tb3ZlcyArPSAxO1xuXG4gICAgdGhpcy5tb3ZlTnVtYmVycy50ZXh0Q29udGVudCA9IGBNb3ZlcyAke3RoaXMubW92ZXN9YFxuICAgIHRoaXMubW92ZVByb2dyZXNzLnN0eWxlLmhlaWdodCA9IGAke21heEhlaWdodCAqICgobGltaXQgLSB0aGlzLm1vdmVzKSAvIGxpbWl0KX1weGBcbiAgfVxuXG4gIGlzU29sdmVkKHNpemU6bnVtYmVyKTpib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jZWxscy5ldmVyeSgoY2VsbCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBjZWxsLnZhbHVlID09PSAnbnVtYmVyJykgcmV0dXJuIGNlbGwudmFsdWUgPT09IGNlbGwuaWRcbiAgICAgIHJldHVybiBjZWxsLmlkID09PSBzaXplICoqIDJcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgU2xpZGluZ1B1enpsZSBmcm9tICcuL3RzL1NsaWRpbmdQdXp6bGUnO1xuXG5jb25zdCBnYW1lID0gbmV3IFNsaWRpbmdQdXp6bGUoNClcblxuZ2FtZS5nZW5lcmF0ZU9wdGlvbnMoKVxuIiwiaW1wb3J0IHsgR2FtZUJvYXJkLCBtYWluIH0gZnJvbSAnLi9HYW1lQm9hcmQnO1xuaW1wb3J0IEluZm9Nb2RhbCBmcm9tICcuL0luZm9Nb2RhbCc7XG5pbXBvcnQgY3JlYXRlIGZyb20gJy4vdXRpbHMvY3JlYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGluZ0dhbWUgZXh0ZW5kcyBHYW1lQm9hcmQge1xuICBvcHRpb25zQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICBwdXp6bGVJbWc6IEhUTUxFbGVtZW50O1xuXG4gIG9wdGlvbnM6IEhUTUxFbGVtZW50O1xuXG4gIC8vIG9wdGlvbnNcbiAgY2hhbmdlSW1nOiBIVE1MRWxlbWVudDtcblxuICBzb3VuZDogSFRNTEVsZW1lbnQ7XG5cbiAgY2hhbmdlU2l6ZTogSFRNTEVsZW1lbnQ7XG5cbiAgc2F2ZUdhbWU6IEhUTUxFbGVtZW50O1xuXG4gIHNodWZmbGU6IEhUTUxFbGVtZW50O1xuXG4gIHNhdmVkR2FtZXM6IEhUTUxFbGVtZW50O1xuXG4gIHRvcFNjb3JlczogSFRNTEVsZW1lbnQ7XG5cbiAgc29sdmVQdXp6bGU6IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKHNpemU6IG51bWJlcikge1xuICAgIHN1cGVyKHNpemUpO1xuICAgIHN1cGVyLmluaXQoKTtcbiAgICB0aGlzLm9wdGlvbnNDb250YWluZXIgPSBjcmVhdGUoJ2RpdicsICdvcHRpb25zLWNvbnRhaW5lcicsIG51bGwsIG1haW4pO1xuICAgIHRoaXMucHV6emxlSW1nID0gY3JlYXRlKCdpbWcnLCAncHV6emxlLWltYWdlJywgbnVsbCwgdGhpcy5vcHRpb25zQ29udGFpbmVyLCBbXG4gICAgICAnc3JjJyxcbiAgICAgIHRoaXMuYmdTcmMsXG4gICAgXSk7XG4gICAgdGhpcy5vcHRpb25zID0gY3JlYXRlKCdkaXYnLCAnb3B0aW9ucycsIG51bGwsIHRoaXMub3B0aW9uc0NvbnRhaW5lcik7XG4gIH1cblxuICBnZW5lcmF0ZU9wdGlvbnMoKSB7XG4gICAgLy8gIGNoYW5nZUltYWdlXG4gICAgdGhpcy5jaGFuZ2VJbWcgPSBjcmVhdGUoJ2J1dHRvbicsICdvcHRpb24gY2hhbmdlLWltYWdlIGljb24tZGFya2VkJywgW1xuICAgICAgY3JlYXRlKCdpbWcnLCAnJywgbnVsbCwgbnVsbCwgWydzcmMnLCAnLi9zcmMvaWNvbnMvaW1hZ2VzLnN2ZyddKSxcbiAgICAgIGNyZWF0ZSgncCcsICcnLCAnY2hhbmdlIGltYWdlJywgbnVsbCksXG4gICAgXSwgdGhpcy5vcHRpb25zKTtcbiAgICAvLyAgc291bmRcbiAgICB0aGlzLnNvdW5kID0gY3JlYXRlKCdidXR0b24nLCAnb3B0aW9uIHNvdW5kIGljb24tZGFya2VkJywgW1xuICAgICAgY3JlYXRlKCdpbWcnLCAnJywgbnVsbCwgbnVsbCwgWydzcmMnLCAnLi9zcmMvaWNvbnMvdm9sdW1lLnN2ZyddKSxcbiAgICAgIGNyZWF0ZSgncCcsICcnLCAnc291bmQnLCBudWxsKSxcbiAgICBdLCB0aGlzLm9wdGlvbnMpO1xuICAgIC8vICBjaGFuZ2VTaXplXG4gICAgdGhpcy5jaGFuZ2VTaXplID0gY3JlYXRlKCdidXR0b24nLCAnb3B0aW9uIGNoYW5nZS1zaXplIGljb24tZGFya2VkJywgW1xuICAgICAgY3JlYXRlKCdpbWcnLCAnJywgbnVsbCwgbnVsbCwgWydzcmMnLCAnLi9zcmMvaWNvbnMvbWF0cml4LnN2ZyddKSxcbiAgICAgIGNyZWF0ZSgncCcsICcnLCAnY2hhbmdlIHNpemUnLCBudWxsKSxcbiAgICBdLCB0aGlzLm9wdGlvbnMpO1xuICAgIC8vICBzYXZlR2FtZVxuICAgIHRoaXMuc2F2ZUdhbWUgPSBjcmVhdGUoJ2J1dHRvbicsICdvcHRpb24gc2F2ZS1nYW1lIGljb24tZGFya2VkJywgW1xuICAgICAgY3JlYXRlKCdpbWcnLCAnJywgbnVsbCwgbnVsbCwgWydzcmMnLCAnLi9zcmMvaWNvbnMvc2F2ZS1nYW1lLnN2ZyddKSxcbiAgICAgIGNyZWF0ZSgncCcsICcnLCAnc2F2ZSBnYW1lJywgbnVsbCksXG4gICAgXSwgdGhpcy5vcHRpb25zLCBbJ3RpdGxlJywgJ2F2YWlsYWJsZSBpbiBwcm8gdmVyc2lvbiddKTtcbiAgICAvLyAgc2h1ZmZsZVxuICAgIHRoaXMuc2h1ZmZsZSA9IGNyZWF0ZSgnYnV0dG9uJywgJ29wdGlvbiBzaHVmZmxlIGljb24tZGFya2VkJywgW1xuICAgICAgY3JlYXRlKCdpbWcnLCAnJywgbnVsbCwgbnVsbCwgWydzcmMnLCAnLi9zcmMvaWNvbnMvc2h1ZmZsZS5zdmcnXSksXG4gICAgICBjcmVhdGUoJ3AnLCAnJywgJ25ldycsIG51bGwpLFxuICAgIF0sIHRoaXMub3B0aW9ucyk7XG4gICAgLy8gIHNhdmVkR2FtZXNcbiAgICB0aGlzLnNhdmVkR2FtZXMgPSBjcmVhdGUoJ2J1dHRvbicsICdvcHRpb24gc2F2ZWQtZ2FtZXMgaWNvbi1kYXJrZWQnLCBbXG4gICAgICBjcmVhdGUoJ2ltZycsICcnLCBudWxsLCBudWxsLCBbJ3NyYycsICcuL3NyYy9pY29ucy9zYXZlZC1nYW1lcy5zdmcnXSksXG4gICAgICBjcmVhdGUoJ3AnLCAnJywgJ3NhdmVkIGdhbWVzJywgbnVsbCksXG4gICAgXSwgdGhpcy5vcHRpb25zLCBbJ3RpdGxlJywgJ2F2YWlsYWJsZSBpbiBwcm8gdmVyc2lvbiddKTtcbiAgICAvLyAgdG9wU2NvcmVzXG4gICAgdGhpcy50b3BTY29yZXMgPSBjcmVhdGUoJ2J1dHRvbicsICdvcHRpb24gdG9wLXNjb3JlcyBpY29uLWRhcmtlZCcsIFtcbiAgICAgIGNyZWF0ZSgnaW1nJywgJycsIG51bGwsIG51bGwsIFsnc3JjJywgJy4vc3JjL2ljb25zL3BvZGl1bS5zdmcnXSksXG4gICAgICBjcmVhdGUoJ3AnLCAnJywgJ3RvcCBzY29yZXMnLCBudWxsKSxcbiAgICBdLCB0aGlzLm9wdGlvbnMpO1xuICAgIC8vICBzb2x2ZVB1enpsZVxuICAgIHRoaXMuc29sdmVQdXp6bGUgPSBjcmVhdGUoJ2J1dHRvbicsICdvcHRpb24gc29sdmUtcHV6emxlIGljb24tZGFya2VkJywgW1xuICAgICAgY3JlYXRlKCdpbWcnLCAnJywgbnVsbCwgbnVsbCwgWydzcmMnLCAnLi9zcmMvaWNvbnMvc29sdXRpb24uc3ZnJ10pLFxuICAgICAgY3JlYXRlKCdwJywgJycsICdzb2x2ZSBwdXp6bGUnLCBudWxsKSxcbiAgICBdLCB0aGlzLm9wdGlvbnMsIFsndGl0bGUnLCAnYXZhaWxhYmxlIGluIHBybyB2ZXJzaW9uJ10pO1xuXG4gICAgdGhpcy5ldmVudHMoKTtcbiAgfVxuXG4gIGV2ZW50cygpIHtcbiAgICB0aGlzLmNoYW5nZUltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2hhbmdlQmdJbWFnZSlcbiAgICB0aGlzLnNvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zb3VuZEhhbmRsZXIpXG4gICAgdGhpcy5jaGFuZ2VTaXplLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zaXplSGFuZGxlcilcbiAgICB0aGlzLnNhdmVHYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zYXZlQ3VycmVudEdhbWUpXG4gICAgdGhpcy5zaHVmZmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zaHVmZmxlR2FtZSlcbiAgICB0aGlzLnNhdmVkR2FtZXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNob3dTYXZlZEdhbWVzKVxuICAgIHRoaXMudG9wU2NvcmVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zaG93VG9wU2NvcmVzKVxuICAgIHRoaXMuc29sdmVQdXp6bGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNvbHZlSGFuZGxlcilcbiAgfVxuXG4gIGNoYW5nZUJnSW1hZ2UgPSAoKSA9PiB7XG4gICAgc3VwZXIuZ2VuZXJhdGVCZ0ltZygpO1xuICAgIHN1cGVyLmRyYXdCZyh0aGlzLmJnU3JjKTtcbiAgICB0aGlzLnB1enpsZUltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuYmdTcmMpO1xuICB9XG5cbiAgc291bmRIYW5kbGVyID0gKCkgPT4ge1xuICAgIHRoaXMuc291bmRPbiA9ICF0aGlzLnNvdW5kT247XG4gICAgY29uc3Qgc3JjID0gdGhpcy5zb3VuZE9uID8gJ3ZvbHVtZScgOiAnbXV0ZSc7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvdW5kIGltZycpLnNldEF0dHJpYnV0ZSgnc3JjJywgYC4vc3JjL2ljb25zLyR7c3JjfS5zdmdgKTtcbiAgfVxuXG4gIHNpemVIYW5kbGVyID0gKCkgPT4ge1xuICAgIHRoaXMuc2l6ZSA9IHRoaXMuc2l6ZSA+IDcgPyAzIDogdGhpcy5zaXplICsgMTtcbiAgICB0aGlzLmNhbmNlbFRpbWVyID0gdHJ1ZTtcbiAgICB0aGlzLnB1enpsZUNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICB0aGlzLmdlbmVyYXRlQmFzZUxheW91dCgpO1xuICAgIHRoaXMubW92ZXMgPSAwO1xuICAgIHRoaXMudGltZXIgPSAtMTtcbiAgICBzdXBlci5pbml0KCk7XG4gIH1cblxuICBzYXZlQ3VycmVudEdhbWUgPSAoKSA9PiB7fVxuXG4gIHNodWZmbGVHYW1lID0gKCkgPT4ge1xuICAgIHRoaXMuY2FuY2VsVGltZXIgPSB0cnVlO1xuICAgIHRoaXMubW92ZXMgPSAtMTtcbiAgICB0aGlzLnRpbWVyID0gLTE7XG4gICAgdGhpcy5nZW5lcmF0ZVRpbWUoKTtcbiAgICB0aGlzLmdlbmVyYXRlTW92ZXMoKTtcbiAgICBjb25zdCBudW1iZXJzID0gdGhpcy5yYW5kb21pemUoKTtcbiAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgbnVtYmVycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgbGVmdCA9IGkgJSB0aGlzLnNpemU7XG4gICAgICBjb25zdCB0b3AgPSAoaSAtIGxlZnQpIC8gdGhpcy5zaXplO1xuICAgICAgY29uc3QgY2VsbCA9IHRoaXMuY2VsbHMuZmlsdGVyKChvYmopID0+IG9iai52YWx1ZSA9PT0gbnVtYmVyc1tpXSlbMF07XG5cbiAgICAgIGNlbGwuaWQgPSBpICsgMTtcbiAgICAgIGNlbGwubGVmdCA9IGxlZnQ7XG4gICAgICBjZWxsLnRvcCA9IHRvcDtcbiAgICAgIGNlbGwudmFsdWUgPSBudW1iZXJzW2ldO1xuXG4gICAgICB0aGlzLmdlbmVyYXRlQ2VsbChjZWxsKTtcbiAgICB9XG4gIH1cblxuICBzaG93U2F2ZWRHYW1lcyA9ICgpID0+IHt9XG5cbiAgc2hvd1RvcFNjb3JlcyA9ICgpID0+IHtcbiAgICBjb25zdCByZWNvcmRzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmVjb3JkcycpKTtcbiAgICBjb25zdCBzaXplID0gYCR7dGhpcy5zaXplfWBcbiAgICBjb25zdCBtb2RhbCA9IG5ldyBJbmZvTW9kYWwodGhpcy5nYW1lQm9hcmQpXG4gICAgbW9kYWwuZ2VuZXJhdGVUYWJsZShyZWNvcmRzW3NpemVdKTtcbiAgfVxuXG4gIHNvbHZlSGFuZGxlciA9ICgpID0+IHt9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9